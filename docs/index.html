<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Systematic Variance Estimation • spsys</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Systematic Variance Estimation">
<meta property="og:description" content="Implement and compare variance estimators for two-dimensional systematic sampling designs.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">spsys</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="spsys-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#spsys-" class="anchor"></a>spsys <img src="reference/figures/logo.png" align="right" height="139">
</h1></div>
<p>This readme provides a cursory overview of the functionality of <code>spsys</code>. Refer to the <a href="http://brycefrank.com/spsys/reference/index.html">manual</a> for deeper descriptions of package functionality and use.</p>
<p>Many environmental surveys use systematic sampling to produce estimates of population parameters. Estimating the precision of estimates from systematic sampling designs has proven a difficult task, with several systematic variance estimators proposed over the past several decades. While not exhaustive, <code>spsys</code> implements several different variance estimators and provides diagnostic and simulation tools to allow analysts to select an appropriate variance estimator for their population. More specifically, <code>spsys</code> provides variance estimation for surveys that rely on point estimates of attributes of interest that use the Horvitz-Thompson estimator in two-dimensional settings.</p>
<p><code>spsys</code> derives its classes from the popular <code>sp</code> package, thus all <code>sp</code>-related functions such as <code>sp::plot</code>, <code><a href="https://rdrr.io/pkg/rgdal/man/writeOGR.html">rgdal::writeOGR</a></code>, etc. work with no further modifications.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install this package directly from GitHub using <code>devtools</code></p>
<pre class="{r}"><code>library(devtools)
devtools::install_github('https://github.com/brycefrank/sys)</code></pre>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h2>
<p><code>spsys</code> operates on a modified version of the now ubiquitious <code>sp</code> package <code>SpatialPointsDataFrame</code> class. The entry point into <code>sys</code> are the <code>HexFrame</code> and <code>RectFrame</code> classes, which represent hexagonal systematic and rectangular systematic sampling configurations respectively.</p>
<p>For example, we can load in a set of points from a hexagonal grid:</p>
<pre class="{r}"><code>hex_points &lt;- readOGR('my_hex_points.shp')
hex_frame &lt;- HexFrame(hex_points, c('vol', 'ba'), N=10000)</code></pre>
<p><code>HexFrame</code> takes two arguments: a <code>SpatialPointsDataFrame</code> and a vector of column names that indicate attributes we are interested in conducting the analyses on. Here we indicate volume (vol) and basal area (ba) as our attributes of interest, and we indicate that the population size is <code>N=10000</code>. <code>HexFrame</code>, and its sister class <code>RectFrame</code> (for rectangular systematic samples), implement a standard interface upon which variance estimators can be constructed.</p>
<div id="estimating-variances" class="section level3">
<h3 class="hasAnchor">
<a href="#estimating-variances" class="anchor"></a>Estimating Variances</h3>
<p>Once we have wrapped our sample information within a <code>HexFrame</code> or <code>RectFrame</code>, the next step is to construct a variance estimator. For example, we can construct a variance estimator that assumes simple random sampling was conducted, as is common practice for many environmental sample surveys.</p>
<pre><code>my_srs_estimator &lt;- VarSRS(fpc=TRUE)</code></pre>
<p><code>my_srs_estimator</code> now represents a function that, when we pass this function a <code>HexFrame</code> or <code>RectFrame</code>, will return the variance estimate.</p>
<pre><code>my_srs_estimator(hex_frame)</code></pre>
</div>
<div id="variance-assessment" class="section level3">
<h3 class="hasAnchor">
<a href="#variance-assessment" class="anchor"></a>Variance Assessment</h3>
<p><code>spsys</code> allows for the assessment the behavior of variance estimators via simulation. This is done by treating an existing <code>SysFrame</code> as a population, and sampling repeatedly from it. Consider the following example where we treat <code>hex_frame</code> as a population</p>
<pre class="{r}"><code>a &lt;- 3
subsample(hex_frame, c(1,1), a)</code></pre>
<p>where <code><a href="https://rdrr.io/r/base/c.html">c(1,1)</a></code> is the starting position in index space and <code>a=3</code> is the sampling interval. Fans of the <code>dplyr</code> package may want to use pipe operators. That is also possible</p>
<pre class="{r}"><code>hex_frame %&gt;% subsample(c(1,1), a)</code></pre>
<p>In most assessments we will be interested in all possible subsamples. Here we iterate over all possible subsamples and compute the simple random sampling with replacement estimator</p>
<pre class="{r}"><code>all_starts &lt;- subsample_starts(a)

for(i in 1:nrow(all_starts)) {
  subsample(hex_frame, all_starts[i,]) %&gt;%
    my_srs_estimator()
}</code></pre>
</div>
</div>
<div id="implemented-estimators" class="section level2">
<h2 class="hasAnchor">
<a href="#implemented-estimators" class="anchor"></a>Implemented Estimators</h2>
<p>In total, seven unique estimators are implemented, each of which contains the ability for further configuration. The particular formal definitions of these estimators are described in the manual and the publication [].</p>
<pre><code>D'Orazio (2003) - var_dorazio_i, var_dorazio_c
Mátern  (1980)*  - var_mat
Non-Overlapping Neighborhoods - var_non_overlap
Stevens &amp; Olsen (2003) - var_so
Simple Random Sampling - var_srs</code></pre>
</div>
<div id="development" class="section level2">
<h2 class="hasAnchor">
<a href="#development" class="anchor"></a>Development</h2>
<p>This package is currently in a minimally working condition. Interested collaborators can email the author at <a href="mailto:bryce.frank@oregonstate.edu" class="email">bryce.frank@oregonstate.edu</a> to contribute to further updates.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php">MIT</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Bryce Frank <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Bryce Frank.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
